# Daedalos Kitty Configuration
# ============================
# A warm, craftsman's workshop aesthetic with built-in keybindings
# for daedalos-tools. Include this in your kitty.conf:
#
#   include ~/.config/kitty/daedalos.conf


# ============================================================
# COLOR SCHEME: Daedalos Workshop
# ============================================================
# Warm earth tones - terracotta, copper, bronze, amber, teal
# Designed for long sessions without eye strain

# Core colors
background              #151820
foreground              #e8e0d4
cursor                  #d4a574
cursor_text_color       #151820
selection_foreground    #e8e0d4
selection_background    #2d3a4a

# URL highlighting
url_color               #6bc4b4

# Tab bar colors
active_tab_foreground   #151820
active_tab_background   #d4a574
inactive_tab_foreground #a89f94
inactive_tab_background #1e222a
tab_bar_background      #0f1114

# Window borders
active_border_color     #d4a574
inactive_border_color   #2d3a4a

# ANSI colors - Normal
color0                  #0f1114
color1                  #c47a5a
color2                  #5a9a7a
color3                  #e5a84b
color4                  #4a9a8c
color5                  #8a6a8a
color6                  #6bc4b4
color7                  #a89f94

# ANSI colors - Bright
color8                  #6b6560
color9                  #e89a7a
color10                 #7abf9a
color11                 #e8c49a
color12                 #6bc4b4
color13                 #b48ab4
color14                 #a4b88a
color15                 #e8e0d4

# Mark colors (for output marking)
mark1_foreground        #151820
mark1_background        #5a9a7a
mark2_foreground        #151820
mark2_background        #4a9a8c
mark3_foreground        #151820
mark3_background        #c47a5a


# ============================================================
# FONT SETTINGS
# ============================================================
# Iosevka recommended - install with:
#   brew install --cask font-iosevka
# Falls back to system monospace if unavailable

font_family             Iosevka
bold_font               Iosevka Bold
italic_font             Iosevka Italic
bold_italic_font        Iosevka Bold Italic
font_size               14.0


# ============================================================
# TERMINAL SETTINGS
# ============================================================

# Cursor style (block/beam/underline)
cursor_shape            block
cursor_blink_interval   0.5

# Scrollback
scrollback_lines        10000

# Window padding
window_padding_width    4

# Tab bar
tab_bar_edge            top
tab_bar_style           powerline
tab_powerline_style     slanted

# Bell
enable_audio_bell       no
visual_bell_duration    0.1
visual_bell_color       #e5a84b


# ============================================================
# REMOTE CONTROL
# ============================================================
# Enable remote control for programmatic terminal management
# Used by daedalos agents for multi-window orchestration

allow_remote_control    socket-only
listen_on               unix:/tmp/kitty-daedalos


# ============================================================
# KEYBINDINGS: Daedalos Tools
# ============================================================
# All Daedalos bindings use ctrl+shift prefix
# Mnemonic keys: L=Loop, A=Agent, V=Verify, etc.

# Loop - iteration management
map ctrl+shift+l        launch --type=overlay sh -c 'loop status || echo "No active loops"'

# Agent - multi-agent management
map ctrl+shift+a        launch --type=overlay sh -c 'agent list || echo "No agents running"'
map ctrl+shift+n        launch --type=tab --title "Agent" sh -c 'echo "Spawning new agent..."; agent spawn --name agent-$(date +%s)'

# Verify - quick verification
map ctrl+shift+v        launch --type=overlay sh -c 'verify --quick'

# Undo - file-level undo
map ctrl+shift+u        launch --type=overlay sh -c 'undo timeline'
map ctrl+shift+z        launch --type=overlay sh -c 'undo last && echo "Undid last change"'

# Project - codebase intelligence
map ctrl+shift+p        launch --type=overlay sh -c 'project info'
map ctrl+shift+t        launch --type=overlay sh -c 'project tree'

# Codex - semantic code search
map ctrl+shift+s        launch --type=overlay sh -c 'echo -n "Search: "; read q; codex search "$q"'

# Error DB - error lookup
map ctrl+shift+e        launch --type=overlay sh -c 'echo -n "Error: "; read e; error-db match "$e"'

# Journal - activity history
map ctrl+shift+j        launch --type=overlay sh -c 'journal what'

# Gates - supervision status
map ctrl+shift+g        launch --type=overlay sh -c 'gates level'

# Context - token usage
map ctrl+shift+c        launch --type=overlay sh -c 'context estimate'

# Scratch - ephemeral environments
map ctrl+shift+x        launch --type=overlay sh -c 'scratch list'

# Observe - full dashboard (uses alt for "heavier" action)
map ctrl+shift+alt+l    launch --type=tab --title "Observe" observe

# Daedalos launcher - kitten menu
map ctrl+shift+space    launch --type=overlay python3 ~/.config/kitty/kittens/daedalos.py

# Help - command reference
map ctrl+shift+?        launch --type=overlay sh -c 'cat << "EOF"
Daedalos Keybindings
====================

ctrl+shift+l        Loop status
ctrl+shift+a        Agent list
ctrl+shift+n        New agent (in tab)
ctrl+shift+v        Verify quick
ctrl+shift+u        Undo timeline
ctrl+shift+z        Undo last
ctrl+shift+p        Project info
ctrl+shift+t        Project tree
ctrl+shift+s        Codex search
ctrl+shift+e        Error lookup
ctrl+shift+j        Journal
ctrl+shift+g        Gates level
ctrl+shift+c        Context estimate
ctrl+shift+x        Scratch list
ctrl+shift+alt+l    Observe TUI
ctrl+shift+space    Launcher menu
ctrl+shift+?        This help

Press any key to close...
EOF
read -n1'


# ============================================================
# CHECKPOINT KEYBINDING
# ============================================================
# Create named checkpoint before risky changes
map ctrl+shift+k        launch --type=overlay sh -c 'echo -n "Checkpoint name: "; read name; undo checkpoint "$name" && echo "Checkpoint created: $name"'
